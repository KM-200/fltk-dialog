--- a/fltk-1.3/jpeg/jpeglib.h
+++ b/fltk-1.3/jpeg/jpeglib.h
@@ -887,60 +887,169 @@
  * characters, you are out of luck.  Get a better compiler.)
  */
 
+#ifndef NEED_SHORT_EXTERNAL_NAMES
+#define NEED_SHORT_EXTERNAL_NAMES
+#endif
 #ifdef NEED_SHORT_EXTERNAL_NAMES
-#define jpeg_std_error		jStdError
-#define jpeg_CreateCompress	jCreaCompress
-#define jpeg_CreateDecompress	jCreaDecompress
-#define jpeg_destroy_compress	jDestCompress
-#define jpeg_destroy_decompress	jDestDecompress
-#define jpeg_stdio_dest		jStdDest
-#define jpeg_stdio_src		jStdSrc
-#define jpeg_mem_dest		jMemDest
-#define jpeg_mem_src		jMemSrc
-#define jpeg_set_defaults	jSetDefaults
-#define jpeg_set_colorspace	jSetColorspace
-#define jpeg_default_colorspace	jDefColorspace
-#define jpeg_set_quality	jSetQuality
-#define jpeg_set_linear_quality	jSetLQuality
-#define jpeg_default_qtables	jDefQTables
-#define jpeg_add_quant_table	jAddQuantTable
-#define jpeg_quality_scaling	jQualityScaling
-#define jpeg_simple_progression	jSimProgress
-#define jpeg_suppress_tables	jSuppressTables
-#define jpeg_alloc_quant_table	jAlcQTable
-#define jpeg_alloc_huff_table	jAlcHTable
-#define jpeg_start_compress	jStrtCompress
-#define jpeg_write_scanlines	jWrtScanlines
-#define jpeg_finish_compress	jFinCompress
-#define jpeg_calc_jpeg_dimensions	jCjpegDimensions
-#define jpeg_write_raw_data	jWrtRawData
-#define jpeg_write_marker	jWrtMarker
-#define jpeg_write_m_header	jWrtMHeader
-#define jpeg_write_m_byte	jWrtMByte
-#define jpeg_write_tables	jWrtTables
-#define jpeg_read_header	jReadHeader
-#define jpeg_start_decompress	jStrtDecompress
-#define jpeg_read_scanlines	jReadScanlines
-#define jpeg_finish_decompress	jFinDecompress
-#define jpeg_read_raw_data	jReadRawData
-#define jpeg_has_multiple_scans	jHasMultScn
-#define jpeg_start_output	jStrtOutput
-#define jpeg_finish_output	jFinOutput
-#define jpeg_input_complete	jInComplete
-#define jpeg_new_colormap	jNewCMap
-#define jpeg_consume_input	jConsumeInput
-#define jpeg_core_output_dimensions	jCoreDimensions
-#define jpeg_calc_output_dimensions	jCalcDimensions
-#define jpeg_save_markers	jSaveMarkers
-#define jpeg_set_marker_processor	jSetMarker
-#define jpeg_read_coefficients	jReadCoefs
-#define jpeg_write_coefficients	jWrtCoefs
-#define jpeg_copy_critical_parameters	jCopyCrit
-#define jpeg_abort_compress	jAbrtCompress
-#define jpeg_abort_decompress	jAbrtDecompress
-#define jpeg_abort		jAbort
-#define jpeg_destroy		jDestroy
-#define jpeg_resync_to_restart	jResyncRestart
+#define jpeg_std_error	fltk_dialog_jStdError
+#define jpeg_CreateCompress	fltk_dialog_jCreaCompress
+#define jpeg_CreateDecompress	fltk_dialog_jCreaDecompress
+#define jpeg_destroy_compress	fltk_dialog_jDestCompress
+#define jpeg_destroy_decompress	fltk_dialog_jDestDecompress
+#define jpeg_stdio_dest	fltk_dialog_jStdDest
+#define jpeg_stdio_src	fltk_dialog_jStdSrc
+#define jpeg_mem_dest	fltk_dialog_jMemDest
+#define jpeg_mem_src	fltk_dialog_jMemSrc
+#define jpeg_set_defaults	fltk_dialog_jSetDefaults
+#define jpeg_set_colorspace	fltk_dialog_jSetColorspace
+#define jpeg_default_colorspace	fltk_dialog_jDefColorspace
+#define jpeg_set_quality	fltk_dialog_jSetQuality
+#define jpeg_set_linear_quality	fltk_dialog_jSetLQuality
+#define jpeg_default_qtables	fltk_dialog_jDefQTables
+#define jpeg_add_quant_table	fltk_dialog_jAddQuantTable
+#define jpeg_quality_scaling	fltk_dialog_jQualityScaling
+#define jpeg_simple_progression	fltk_dialog_jSimProgress
+#define jpeg_suppress_tables	fltk_dialog_jSuppressTables
+#define jpeg_alloc_quant_table	fltk_dialog_jAlcQTable
+#define jpeg_alloc_huff_table	fltk_dialog_jAlcHTable
+#define jpeg_start_compress	fltk_dialog_jStrtCompress
+#define jpeg_write_scanlines	fltk_dialog_jWrtScanlines
+#define jpeg_finish_compress	fltk_dialog_jFinCompress
+#define jpeg_calc_jpeg_dimensions	fltk_dialog_jCjpegDimensions
+#define jpeg_write_raw_data	fltk_dialog_jWrtRawData
+#define jpeg_write_marker	fltk_dialog_jWrtMarker
+#define jpeg_write_m_header	fltk_dialog_jWrtMHeader
+#define jpeg_write_m_byte	fltk_dialog_jWrtMByte
+#define jpeg_write_tables	fltk_dialog_jWrtTables
+#define jpeg_read_header	fltk_dialog_jReadHeader
+#define jpeg_start_decompress	fltk_dialog_jStrtDecompress
+#define jpeg_read_scanlines	fltk_dialog_jReadScanlines
+#define jpeg_finish_decompress	fltk_dialog_jFinDecompress
+#define jpeg_read_raw_data	fltk_dialog_jReadRawData
+#define jpeg_has_multiple_scans	fltk_dialog_jHasMultScn
+#define jpeg_start_output	fltk_dialog_jStrtOutput
+#define jpeg_finish_output	fltk_dialog_jFinOutput
+#define jpeg_input_complete	fltk_dialog_jInComplete
+#define jpeg_new_colormap	fltk_dialog_jNewCMap
+#define jpeg_consume_input	fltk_dialog_jConsumeInput
+#define jpeg_core_output_dimensions	fltk_dialog_jCoreDimensions
+#define jpeg_calc_output_dimensions	fltk_dialog_jCalcDimensions
+#define jpeg_save_markers	fltk_dialog_jSaveMarkers
+#define jpeg_set_marker_processor	fltk_dialog_jSetMarker
+#define jpeg_read_coefficients	fltk_dialog_jReadCoefs
+#define jpeg_write_coefficients	fltk_dialog_jWrtCoefs
+#define jpeg_copy_critical_parameters	fltk_dialog_jCopyCrit
+#define jpeg_abort_compress	fltk_dialog_jAbrtCompress
+#define jpeg_abort_decompress	fltk_dialog_jAbrtDecompress
+#define jpeg_abort	fltk_dialog_jAbort
+#define jpeg_destroy	fltk_dialog_jDestroy
+#define jpeg_resync_to_restart	fltk_dialog_jResyncRestart
+#define jFreeLarge	fltk_dialog_jFreeLarge
+#define jFreeSmall	fltk_dialog_jFreeSmall
+#define jGetLarge	fltk_dialog_jGetLarge
+#define jGetSmall	fltk_dialog_jGetSmall
+#define jMemAvail	fltk_dialog_jMemAvail
+#define jMemInit	fltk_dialog_jMemInit
+#define jMemTerm	fltk_dialog_jMemTerm
+#define jOpenBackStore	fltk_dialog_jOpenBackStore
+#define jCopyBlocks	fltk_dialog_jCopyBlocks
+#define jCopySamples	fltk_dialog_jCopySamples
+#define jDivRound	fltk_dialog_jDivRound
+#define jRound	fltk_dialog_jRound
+#define jIMemMgr	fltk_dialog_jIMemMgr
+#define jIAEncoder	fltk_dialog_jIAEncoder
+#define jICompress	fltk_dialog_jICompress
+#define jICMaster	fltk_dialog_jICMaster
+#define jIMWriter	fltk_dialog_jIMWriter
+#define jICMainC	fltk_dialog_jICMainC
+#define jICPrepC	fltk_dialog_jICPrepC
+#define jICCoefC	fltk_dialog_jICCoefC
+#define jICColor	fltk_dialog_jICColor
+#define jIDownsampler	fltk_dialog_jIDownsampler
+#define jIHEncoder	fltk_dialog_jIHEncoder
+#define jIFDCT	fltk_dialog_jIFDCT
+#define jFDifast	fltk_dialog_jFDifast
+#define jFDfloat	fltk_dialog_jFDfloat
+#define jFD10x10	fltk_dialog_jFD10x10
+#define jFD10x5	fltk_dialog_jFD10x5
+#define jFD11x11	fltk_dialog_jFD11x11
+#define jFD12x12	fltk_dialog_jFD12x12
+#define jFD12x6	fltk_dialog_jFD12x6
+#define jFD13x13	fltk_dialog_jFD13x13
+#define jFD14x14	fltk_dialog_jFD14x14
+#define jFD14x7	fltk_dialog_jFD14x7
+#define jFD15x15	fltk_dialog_jFD15x15
+#define jFD16x16	fltk_dialog_jFD16x16
+#define jFD16x8	fltk_dialog_jFD16x8
+#define jFD1x1	fltk_dialog_jFD1x1
+#define jFD1x2	fltk_dialog_jFD1x2
+#define jFD2x1	fltk_dialog_jFD2x1
+#define jFD2x2	fltk_dialog_jFD2x2
+#define jFD2x4	fltk_dialog_jFD2x4
+#define jFD3x3	fltk_dialog_jFD3x3
+#define jFD3x6	fltk_dialog_jFD3x6
+#define jFD4x2	fltk_dialog_jFD4x2
+#define jFD4x4	fltk_dialog_jFD4x4
+#define jFD4x8	fltk_dialog_jFD4x8
+#define jFD5x10	fltk_dialog_jFD5x10
+#define jFD5x5	fltk_dialog_jFD5x5
+#define jFD6x12	fltk_dialog_jFD6x12
+#define jFD6x3	fltk_dialog_jFD6x3
+#define jFD6x6	fltk_dialog_jFD6x6
+#define jFD7x14	fltk_dialog_jFD7x14
+#define jFD7x7	fltk_dialog_jFD7x7
+#define jFD8x16	fltk_dialog_jFD8x16
+#define jFD8x4	fltk_dialog_jFD8x4
+#define jFD9x9	fltk_dialog_jFD9x9
+#define jFDislow	fltk_dialog_jFDislow
+#define jIADecoder	fltk_dialog_jIADecoder
+#define jIDMaster	fltk_dialog_jIDMaster
+#define jIInCtlr	fltk_dialog_jIInCtlr
+#define jIMReader	fltk_dialog_jIMReader
+#define jIHDecoder	fltk_dialog_jIHDecoder
+#define jIDMainC	fltk_dialog_jIDMainC
+#define jIDCoefC	fltk_dialog_jIDCoefC
+#define jIDPostC	fltk_dialog_jIDPostC
+#define jIIDCT	fltk_dialog_jIIDCT
+#define jRDifast	fltk_dialog_jRDifast
+#define jRDfloat	fltk_dialog_jRDfloat
+#define jRD10x10	fltk_dialog_jRD10x10
+#define jRD10x5	fltk_dialog_jRD10x5
+#define jRD11x11	fltk_dialog_jRD11x11
+#define jRD12x12	fltk_dialog_jRD12x12
+#define jRD12x6	fltk_dialog_jRD12x6
+#define jRD13x13	fltk_dialog_jRD13x13
+#define jRD14x14	fltk_dialog_jRD14x14
+#define jRD14x7	fltk_dialog_jRD14x7
+#define jRD15x15	fltk_dialog_jRD15x15
+#define jRD16x16	fltk_dialog_jRD16x16
+#define jRD16x8	fltk_dialog_jRD16x8
+#define jRD1x1	fltk_dialog_jRD1x1
+#define jRD1x2	fltk_dialog_jRD1x2
+#define jRD2x1	fltk_dialog_jRD2x1
+#define jRD2x2	fltk_dialog_jRD2x2
+#define jRD2x4	fltk_dialog_jRD2x4
+#define jRD3x3	fltk_dialog_jRD3x3
+#define jRD3x8	fltk_dialog_jRD3x8
+#define jRD4x2	fltk_dialog_jRD4x2
+#define jRD4x4	fltk_dialog_jRD4x4
+#define jRD4x8	fltk_dialog_jRD4x8
+#define jRD5x10	fltk_dialog_jRD5x10
+#define jRD5x5	fltk_dialog_jRD5x5
+#define jRD6x12	fltk_dialog_jRD6x12
+#define jRD6x3	fltk_dialog_jRD6x3
+#define jRD6x6	fltk_dialog_jRD6x6
+#define jRD7x14	fltk_dialog_jRD7x14
+#define jRD7x7	fltk_dialog_jRD7x7
+#define jRD8x16	fltk_dialog_jRD8x16
+#define jRD8x4	fltk_dialog_jRD8x4
+#define jRD9x9	fltk_dialog_jRD9x9
+#define jRDislow	fltk_dialog_jRDislow
+#define jIUpsampler	fltk_dialog_jIUpsampler
+#define jIDColor	fltk_dialog_jIDColor
+#define jI1Quant	fltk_dialog_jI1Quant
+#define jI2Quant	fltk_dialog_jI2Quant
+#define jIMUpsampler	fltk_dialog_jIMUpsampler
 #endif /* NEED_SHORT_EXTERNAL_NAMES */
 
 
